<div class="email-form">
  <header class="header">
    <h1>AI Email Reply Generator</h1>
    <p class="subtitle">Generate professional email replies with AI</p>
  </header>

  <main class="main-content">
    <section class="compose-section">
      <h2>Compose Your Reply</h2>
      <p class="section-description">Paste the original email and choose your preferred tone</p>

      <div class="input-section">
        <h3>Original Email Content</h3>
        <p class="input-hint">Paste the email you want to reply to here...</p>
        <textarea
          [(ngModel)]="emailContent"
          placeholder="Dear team,&#10;&#10;I wanted to follow up on our meeting yesterday...&#10;&#10;Best regards,&#10;John"
          rows="8"
          class="email-textarea"
        ></textarea>
      </div>

      <div class="tone-section">
        <h3>Tone</h3>
        <div class="tone-selector">
          <select id="tone" [(ngModel)]="tone" class="tone-dropdown">
            <option value="friendly">Friendly</option>
            <option value="formal">Formal</option>
            <option value="casual">Casual</option>
            <option value="professional">Professional</option>
          </select>
        </div>
      </div>

      <button (click)="onSubmit()" [disabled]="loading || !emailContent" class="generate-btn">
        {{ loading ? 'Generating Reply...' : 'Generate Reply' }}
      </button>
    </section>

    <div class="divider"></div>

    <section class="reply-section">
      <h2>Generated Reply</h2>
      <div class="reply-content" [class.empty]="!generatedReply">
        <div *ngIf="generatedReply; else emptyState" class="reply-text">
          <p>{{ generatedReply }}</p>
        </div>
        <ng-template #emptyState>
          <div class="empty-state">
            <p>Your AI-generated email reply will appear here</p>
            <p class="empty-hint">No reply generated yet</p>
            <p class="empty-hint">Enter your email content and click "Generate Reply" to get started</p>
          </div>
        </ng-template>
      </div>

      <div *ngIf="generatedReply" class="copy-section">
          <button (click)="copyToClipboard()" class="copy-btn" [class.copied]="copied">
            {{ copied ? 'âœ… Copied!' : 'Copy to Clipboard' }}
          </button>
          <span *ngIf="copyError" class="copy-error">{{ copyError }}</span>
        </div>

    </section>
  </main>

  <div *ngIf="errorMessage" class="error-message">
    <p>Error: {{ errorMessage }}</p>
  </div>
</div>